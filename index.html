<!DOCTYPE html>
<html lang="es">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<head>
  <meta charset="UTF-8">
  <title>Feliz Navidad</title>
  <link rel="stylesheet" href="./style.css">
  </head>
<body>

<div id="snow-container"></div>

<div class="card" onclick="playAudio()">
    <div class="imgBox">
        <div class="bark"></div>
        <img src="Navidad.jpg" alt="Portada Navidad">
        
        <audio id="musicaNavidad" loop>
            <source src="https://github.com/Toolco/CumpleRyA/raw/main/Mat.mp3" type="audio/mpeg">
            Tu navegador no soporta el elemento de audio.
        </audio>
    </div>
    
    <div class="details">
        <h4 class="color1">Maestra Karina</h4>
        <h4 class="color2 margin">(FELICES FIESTAS)</h4>
        <p><strong>¡Maestra</strong>, le deseo lo mejor para usted y</p>
        <p>su familia en esta navidad!</p>
        <p> </p>
        <p>Mi deseo sincero es que la Navidad sea</p>
        <p>para usted un espacio de descanso,</p>
        <p>reflexión y alegría compartida.</p>
        <p>Gracias por el Maxito :)</p>
        
        <p>Se les aprecia Mucho ♥ </p>
        <p class="text-right">Gracias por todo</p>
        <p class="text-right">del Caamal</p>
    </div>
</div>

<script>
    // --- AUDIO Y CONFETI AL HACER CLIC ---
    
    function playAudio() {
        var audio = document.getElementById("musicaNavidad");
        
        // 1. Reproducir audio
        audio.play().catch(function(error) {
            console.log("Esperando interacción...");
        });

        // 2. Lanzar confeti (¡La parte nueva!)
        lanzarConfeti();
    }

    // Listener para el cuerpo de la página
    document.body.addEventListener('click', function() {
        var audio = document.getElementById("musicaNavidad");
        audio.play();
        lanzarConfeti(); // También lanza confeti si dan clic fuera
    }, { once: true });


    // --- FUNCIÓN DE CONFETI ---
    function lanzarConfeti() {
        // Un disparo de confeti desde el centro
        confetti({
            particleCount: 150, // Cantidad de papelitos
            spread: 70,         // Qué tan abierto es el disparo
            origin: { y: 0.6 }, // Desde dónde sale (un poco más abajo de la mitad)
            colors: ['#ff0000', '#00ff00', '#ffffff', '#ffd700'] // Colores navideños (Rojo, Verde, Blanco, Dorado)
        });
    }

    // --- SCRIPT DE NIEVE (EL QUE YA TENÍAS) ---
    function createSnowflake() {
        const snowContainer = document.getElementById('snow-container');
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.style.left = Math.random() * 100 + 'vw';
        const size = Math.random() * 5 + 2;
        snowflake.style.width = size + 'px';
        snowflake.style.height = size + 'px';
        const duration = Math.random() * 5 + 3;
        snowflake.style.animationDuration = duration + 's';
        snowflake.style.opacity = Math.random() * 0.5 + 0.5;
        snowContainer.appendChild(snowflake);
        setTimeout(() => { snowflake.remove(); }, duration * 1000);
    }
    setInterval(createSnowflake, 100);
</script>

</body>
</html>
